package com.video.bigdata.bigdatasolr;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;
import com.video.bigdata.bigdatasolr.utils.JsonUtils;
import org.junit.Test;

import java.io.*;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.Map;
import java.util.Set;
import java.util.TimeZone;
import java.util.concurrent.ConcurrentHashMap;

public class JsonTest {
    @Test
    public void test2(){
        String str = "{\"uuid\":\"d260be9984694541a98708b779d5b718\",\"objType\":2,\"objId\":74,\"serialNumber\":\"1155403522\",\"bigImgURL\":\"http://127.0.0.1:8082/20181120/13/bg/vehicle_1155403522-000074_st74680_end82840.jpg\",\"imgURL\":\"http://127.0.0.1:8082/20181120/13/thumb/vehicle_1155403522-000074_st74680_end82840_thumb.jpg\",\"startFrameIdx\":1866,\"endFrameIdx\":2070,\"startFramePts\":74680,\"endFramePts\":82840,\"createTime\":\"2018-11-20 13:49:16\",\"firstObj\":0,\"snapshot\":{\"frameIdx\":2052,\"width\":1920,\"height\":1080,\"boundingBox\":{\"x\":918,\"y\":514,\"w\":320,\"h\":328}},\"features\":{\"type\":\"轿车\",\"typeCode\":\"1\",\"safetyBelt\":{\"mainDriver\":\"-1\",\"coDriver\":\"-1\"},\"brandName\":\"\",\"hasCall\":\"-1\",\"hasCrash\":\"-1\",\"hasDanger\":\"-1\",\"colorCode\":7,\"colorName\":\"红\",\"tagNum\":0,\"sun\":\"-1\",\"drop\":\"-1\",\"paper\":\"-1\",\"plateColorName\":\"\",\"plateColorCode\":\"\",\"plateLicence\":\"\",\"hasPlate\":\"0\",\"plateClass\":\"\",\"plateClassCode\":\"\",\"sunRoof\":-1,\"spareTire\":-1,\"rack\":-1,\"plateLocationInfo\":{\"x\":0,\"y\":0,\"w\":0,\"h\":0},\"vehicleConfidence\":0,\"plateConfidence\":0,\"featureType\":1,\"featureData\":\"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\"}}\n";
        JSONObject jsonObject = JSON.parseObject(str);
        Map<String,Object> map = new ConcurrentHashMap<String,Object>();
        JsonUtils.objectAnalysis(null,jsonObject,map);
        Set<Map.Entry<String, Object>> entries = map.entrySet();
        for(Map.Entry<String, Object> entry : entries){
            //System.out.println(entry.getKey() + "=" + entry.getValue());
            System.out.println("put 'video', 'd260be9984694541a98708b779d5b718', 'vehicle:"+entry.getKey()+"', '"+entry.getValue()+"'");
        }
    }
    @Test
    public void test3(){
        SimpleDateFormat df1 = new SimpleDateFormat("yyyy-MM-dd'T'HH:mm:ss.SSS'Z'");
        Date t = new Date();
        System.out.println(df1.format(t));
        df1.setTimeZone(TimeZone.getTimeZone("UTC"));
        System.out.println(df1.format(t));
    }

}
